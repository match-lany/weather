<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="轻量版天气应用 - 提供实时天气信息">
  <meta name="theme-color" content="#4a6fa5">
  <title>轻量天气</title>
  <link rel="stylesheet" href="/css/variables.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/theme.css">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/assets/icons/favicon.ico">
  <!-- 添加和风天气图标字体CSS -->
  <link rel="stylesheet" href="/assets/font/qweather-icons.css">
  <!-- 添加应用图标 -->
  <link rel="icon" type="image/png" href="/assets/icons/new/100.svg">
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <div class="city-selector" id="city-selector">
        <span class="current-city" id="current-city">定位中...</span>
        <span class="city-arrow">▼</span>
      </div>
      <div class="header-actions">
        <button class="refresh-btn" id="refresh-btn" aria-label="刷新天气">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4C7.58 4 4.01 7.58 4.01 12C4.01 16.42 7.58 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C8.69 18 6 15.31 6 12C6 8.69 8.69 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z" fill="currentColor"/>
          </svg>
        </button>
      </div>
    </header>

    <main class="app-main">
      <!-- 当前天气信息 -->
      <section class="current-weather-container" id="current-weather">
        <div class="weather-loading">
          <div class="loading-spinner"></div>
          <p>正在获取天气数据...</p>
        </div>
      </section>

      <!-- 24小时天气预报 -->
      <section class="hourly-forecast-section">
        <h2 class="section-title">24小时预报</h2>
        <div class="hourly-forecast-container" id="hourly-forecast">
          <div class="weather-loading">
            <div class="loading-spinner"></div>
          </div>
        </div>
      </section>

      <!-- 3天天气预报 -->
      <section class="daily-forecast-section">
        <h2 class="section-title">未来3天</h2>
        <div class="daily-forecast-container" id="daily-forecast">
          <div class="weather-loading">
            <div class="loading-spinner"></div>
          </div>
        </div>
      </section>

      <!-- 扩展信息 -->
      <section class="weather-details-section">
        <h2 class="section-title">详细信息</h2>
        <div class="weather-details-container" id="weather-details">
          <div class="weather-loading">
            <div class="loading-spinner"></div>
          </div>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <p>数据来源: 和风天气</p>
      <p>最后更新: <span id="last-update-time">--</span></p>
    </footer>
  </div>

  <!-- 城市选择弹窗 -->
  <div class="city-select-modal" id="city-select-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>选择城市</h2>
        <button class="close-modal-btn" id="close-modal-btn" aria-label="关闭">×</button>
      </div>
      <div class="search-container">
        <input type="text" id="city-search-input" placeholder="搜索城市" aria-label="搜索城市">
        <button id="search-btn" aria-label="搜索">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.99 16 14 14 14 9.5C14 7.01 11.99 5 9.5 5C7.01 5 5 7.01 5 9.5C5 11.99 7.01 14 9.5 14Z" fill="currentColor"/>
          </svg>
        </button>
      </div>
      <div class="city-list-container">
        <div class="city-list" id="city-list"></div>
      </div>
    </div>
  </div>

  <!-- 定位失败提示 -->
  <div class="location-error-modal" id="location-error-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>定位失败</h2>
        <button class="close-modal-btn" id="close-error-modal-btn" aria-label="关闭">×</button>
      </div>
      <p id="location-error-message">无法获取您的位置，请手动选择城市。</p>
      <button class="primary-btn" id="open-city-select-btn">选择城市</button>
    </div>
  </div>

  <!-- 脚本加载 -->
  <script src="/js/utils.js"></script>
  <script src="/js/api.js"></script>
  <script src="/js/location.js"></script>
  <script src="/js/weather.js"></script>
  <script src="/js/ui.js"></script>
  <script src="/js/main.js"></script>
</body>
</html> 